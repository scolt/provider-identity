(this["webpackJsonpivwa-login-view"]=this["webpackJsonpivwa-login-view"]||[]).push([[0],{111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},214:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var r,n=a(0),i=a.n(n),s=a(48),c=a.n(s),o=(a(111),a(18)),l=(a(112),a(113),a(1)),d=function(e){var t=e.open,a=e.children,r=(e.onOpen,e.onClose),i=Object(n.useState)(!1),s=Object(o.a)(i,2),c=s[0],d=s[1],u=Object(n.useCallback)((function(){d(!1),null===r||void 0===r||r()}),[r]);Object(n.useEffect)((function(){return t?document.body.addEventListener("click",u):document.body.removeEventListener("click",u),function(){return document.body.removeEventListener("click",u)}}),[t,u]),Object(n.useEffect)((function(){d(t)}),[t]);return c?Object(l.jsx)("div",{className:"modal",children:Object(l.jsx)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:a})}):null},u=a(32),j=a(7),b=(a(214),a(14)),m=a(24),h=a(12),O=a(15),f=Object(O.b)("api/validate-user"),g=Object(O.b)("auth/set-active-tab"),x=Object(O.b)("registration/set-registration-errors"),p=Object(O.b)("registration/clear-registration-errors"),v=Object(O.b)("registration/set-registration-validation"),N=Object(O.c)({activeTab:"sign-in",registrationFormErrors:{},registrationFormValidationInProgress:!1},(r={},Object(m.a)(r,f.type,(function(e,t){return Object(h.a)(Object(h.a)({},e),{},{registrationFormValidationInProgress:!0})})),Object(m.a)(r,g.type,(function(e,t){return Object(h.a)(Object(h.a)({},e),{},{activeTab:t.payload})})),Object(m.a)(r,x.type,(function(e,t){return Object(h.a)(Object(h.a)({},e),{},{registrationFormErrors:t.payload})})),Object(m.a)(r,p.type,(function(e,t){return Object(h.a)(Object(h.a)({},e),{},{registrationFormErrors:{}})})),Object(m.a)(r,v.type,(function(e,t){return Object(h.a)(Object(h.a)({},e),{},{registrationFormValidationInProgress:t.payload})})),r)),w=a(49),y=function(e){return e.auth},S=Object(w.a)(y,(function(e){return e.registrationFormErrors})),P=Object(w.a)(y,(function(e){return e.activeTab})),C=j.a().shape({firstName:j.c().min(2,"Too Short!").max(20,"Too Long!").required("Required"),lastName:j.c().min(2,"Too Short!").max(50,"Too Long!").required("Required"),email:j.c().email("Invalid email").required("Required"),password:j.c().min(8,"Password should include at least 8 characters").max(16,"Password should be no more than 16 characters").required("Required"),confirmPassword:j.c().oneOf([j.b("password"),null],"Passwords must match").required()}),k=function(){var e=Object(b.b)(),t=Object(n.useRef)(),a=Object(b.c)(S);t.current&&Object.values(a).length>0&&t.current.setErrors(a);var r=function(e,t,a,r,n,i){return Object(l.jsxs)("div",{className:"form-group ".concat(a&&"error-group"),children:[Object(l.jsxs)("label",{htmlFor:"register_".concat(e),children:[a?Object(l.jsx)("i",{className:"fas fa-exclamation-triangle",children:Object(l.jsx)("span",{className:"error",children:a})}):null,r]}),Object(l.jsx)("input",{id:"register_".concat(e),type:n,name:e,onChange:i})]})};return Object(l.jsxs)("div",{className:"auth-form register",ref:t,children:[Object(l.jsx)("div",{className:"form-header",children:Object(l.jsx)("h1",{children:"Account Registration"})}),Object(l.jsx)(u.a,{innerRef:t,initialValues:{email:"",firstName:"",lastName:"",confirmPassword:"",password:""},validateOnChange:!1,validateOnBlur:!1,validationSchema:C,onSubmit:function(t,a){a.setSubmitting;e(f(t))},children:function(e){var t=e.values,a=e.errors,n=e.handleSubmit,i=e.handleChange;return Object(l.jsxs)("form",{onSubmit:n,children:[Object(l.jsx)("input",{type:"hidden",name:"redirect-url"}),r("firstName",t.firstName,a.firstName,"First Name","text",i),r("lastName",t.lastName,a.lastName,"Last Name","text",i),r("email",t.email,a.email,"Email Address","text",i),r("password",t.password,a.password,"Password","password",i),r("confirmPassword",t.confirmPassword,a.confirmPassword,"Confirm Password","password",i),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{type:"submit",children:"Register"})})]})}})]})},q=j.a().shape({email:j.c().email("Invalid email").required("Required"),password:j.c().min(8,"Password should include at least 8 characters").max(16,"Password should be no more than 16 characters").required("Required")}),E=function(){var e=function(e,t,a,r,n){return Object(l.jsxs)("div",{className:"form-group ".concat(t&&"error-group"),children:[Object(l.jsxs)("label",{htmlFor:"register_".concat(e),children:[t?Object(l.jsx)("i",{className:"fas fa-exclamation-triangle",children:Object(l.jsx)("span",{className:"error",children:t})}):null,a]}),Object(l.jsx)("input",{id:"register_".concat(e),type:r,name:e,onChange:n})]})};return Object(l.jsxs)("div",{className:"auth-form sign-in",children:[Object(l.jsx)("div",{className:"form-header",children:Object(l.jsx)("h1",{children:"Account Sign In"})}),Object(l.jsx)(u.a,{initialValues:{email:"",password:""},validateOnChange:!1,validateOnBlur:!1,validationSchema:q,onSubmit:function(e,t){var a=t.setSubmitting;setTimeout((function(){alert(JSON.stringify(e,null,2)),a(!1)}),400)},children:function(t){t.values;var a=t.errors,r=t.handleSubmit,n=t.handleChange;return Object(l.jsxs)("form",{onSubmit:r,children:[Object(l.jsx)("input",{type:"hidden",name:"redirect-url"}),e("email",a.email,"Email Address","text",n),e("password",a.password,"Password","password",n),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{type:"submit",children:"Sign In"})})]})}})]})},F=(a(218),j.a().shape({code:j.c().min(2,"Password should include at least 8 characters").max(10,"Password should be no more than 16 characters").required("Required")})),R=function(){var e=function(e,t,a,r,n){return Object(l.jsxs)("div",{className:"form-group ".concat(t&&"error-group"),children:[Object(l.jsxs)("label",{htmlFor:"code_".concat(e),children:[t?Object(l.jsx)("i",{className:"fas fa-exclamation-triangle",children:Object(l.jsx)("span",{className:"error",children:t})}):null,a]}),Object(l.jsx)("input",{id:"code_".concat(e),type:r,name:e,onChange:n})]})};return Object(l.jsxs)("div",{className:"auth-form full-size",children:[Object(l.jsx)("div",{className:"form-header",children:Object(l.jsx)("h1",{children:"Code confirmation"})}),Object(l.jsx)("p",{className:"auth-info",children:"We send the code to your email. Please enter it in the field below for confirmation."}),Object(l.jsx)(u.a,{initialValues:{code:""},validateOnChange:!1,validateOnBlur:!1,validationSchema:F,onSubmit:function(e,t){var a=t.setSubmitting;setTimeout((function(){alert(JSON.stringify(e,null,2)),a(!1)}),400)},children:function(t){t.values;var a=t.errors,r=t.handleSubmit,n=t.handleChange;return Object(l.jsxs)("form",{onSubmit:r,children:[Object(l.jsx)("input",{type:"hidden",name:"redirect-url"}),e("code",a.email,"Code","text",n),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("button",{type:"submit",children:"Confirm"})})]})}})]})},I=function(){var e=Object(b.b)(),t=Object(b.c)(P),a=function(t){return e(g(t))};return Object(l.jsx)("div",{className:"authorization-modal is-".concat(t,"-active"),children:Object(l.jsxs)("div",{className:"authorization-modal-content",children:[Object(l.jsx)(E,{}),Object(l.jsx)("div",{className:"auth-toggle register-toggle",onClick:function(){return a("register")},children:Object(l.jsx)("span",{children:"Register"})}),Object(l.jsx)("div",{className:"auth-toggle sign-in-toggle",onClick:function(){return a("sign-in")},children:Object(l.jsx)("span",{children:"Sign In"})}),Object(l.jsx)(k,{}),Object(l.jsx)(R,{})]})})},T=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(b.b)();return Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("div",{className:"background"}),Object(l.jsxs)("div",{className:"login-container",children:[Object(l.jsxs)("h1",{children:["Login / Sign Up",Object(l.jsx)("span",{className:"application-name",children:"Interview Platform"})]}),Object(l.jsxs)("section",{className:"social-links",children:[Object(l.jsx)("button",{id:"manual-login",className:"btn-link",title:"Use login/password for authorization",onClick:function(){return r(!0)},children:Object(l.jsx)("i",{className:"fas fa-sign-in-alt"})}),Object(l.jsx)("a",{href:"/ivwa/facebook",title:"Facebook",children:Object(l.jsx)("i",{className:"fab fa-facebook-square"})}),Object(l.jsx)("a",{href:"/ivwa/vk",title:"VK",children:Object(l.jsx)("i",{className:"fab fa-vk"})}),Object(l.jsx)("a",{href:"/ivwa/github",title:"Github",children:Object(l.jsx)("i",{className:"fab fa-github-square"})})]})]}),Object(l.jsx)(d,{open:a,onClose:function(){i(g("sign-in")),r(!1)},children:Object(l.jsx)(I,{})})]})},L=a(10),V=a(11),_=a(224),z=a(223),A=a(225),B=a(105),J=a(104),U=a(222),G=[function(e){return e.pipe(Object(B.a)(f),Object(J.a)((function(e){return A.a.post("validate",e.payload).pipe(Object(U.a)((function(e){var t=e.response,a=[];return"success"===t.status&&a.push(p(),g("confirmation-code")),"validation-error"===t.status&&a.push(x(t.errors)),a})))})))}],K=Object(V.c)({auth:N}),M=_.a.apply(void 0,Object(L.a)(G)),W=Object(z.a)(),D=Object(O.a)({reducer:K,middleware:[W]});W.run(M);var H=D;c.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(b.a,{store:H,children:Object(l.jsx)(T,{})})}),document.getElementById("root"))}},[[219,1,2]]]);
//# sourceMappingURL=main.ca021b06.chunk.js.map